<div class="row" id="large">
  <div class="col">
      <table class="table table-striped table-hover">
          <thead class="thead-inverse">
            <tr>
              <th scope="col">Station
                <i *ngIf="!stations" class="fa fa-refresh fa-spin "></i>
                <span class="sr-only">Loading...</span>
                <span *ngIf="stations" class="badge badge-success">{{stations.length}}</span>
              </th>
              <th scope="col">Adresse</th>
              <th scope="col">Distance</th>
              <th>Vélos disponibles</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let station of stations" class="{{isOpen(station.status)}}" (click)="openStationModal(station,stationModal)">
              <td>{{station.name}}
              </td>
      
              <td>{{station.address}}</td>
              <td>{{station.distance}} km</td>
              <td>
                <span *ngIf="stations" class="badge {{getLevelAvailability(station)}}">
                  {{station.available_bikes}}</span>
              </td>
            </tr>
          </tbody>
        </table>

  </div>
  
</div>

<div class="row" id ="small">
  <div class="col">
      <table class="table table-striped table-hover">
          <thead class="thead-inverse">
            <tr>
              <th></th>
              <th scope="col">Station
                <i *ngIf="!stations" class="fa fa-refresh fa-spin "></i>
                <span class="sr-only">Loading...</span>
                <span *ngIf="stations" class="badge badge-success">{{stations.length}}</span>
              </th>
              <th>Vélos disponibles</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let station of stations" class="{{isOpen(station.status)}}" >
              <td>
                  <a data-toggle="collapse" href="#info-{{station.number}}" aria-expanded="false" aria-controls="collapseExample" id="info">
                      <i class="fa fa-info-circle" aria-hidden="true"></i>
                    </a>
              </td>
              <td (click)="openStationModal(station,stationModal)">
                
                {{station.name}}
                <div class="collapse" id="info-{{station.number}}">
                  {{station.address}}
                  <br> à {{station.distance}} km
                </div>
              </td>
              <td>
                <span *ngIf="stations" class="badge {{getLevelAvailability(station)}}">
                  {{station.available_bikes}}</span>
              </td>
            </tr>
          </tbody>
        </table>

  </div>
  
</div>



<!-- Modal -->
<ng-template #stationModal>
  <div class="modal-header">
    <h4 class="modal-title pull-left">{{selectedStation.name}}</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="bsModalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <agm-map [latitude]="selectedStation.position.lat" [longitude]="selectedStation.position.lng" [zoom]="17">
      <agm-marker [latitude]="selectedStation.position.lat" [longitude]="selectedStation.position.lng" [iconUrl]="'http://localhost:4200/assets/bikiniMapMarker.png'"></agm-marker>
    </agm-map>
  </div>
</ng-template>